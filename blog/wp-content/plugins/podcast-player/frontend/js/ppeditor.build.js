!function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=6)}([function(t,e,s){"use strict";var i={isStyleSupport:function(t,e){var s=window.ppmejsSettings.stSup||!1;return!(!s||!t)&&s[t].includes(e)}};e.a=i},function(t,e,s){"use strict";function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){var e,s,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=void 0,(s="modal")in(e=this)?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,this.settings=window.ppmejsSettings||{},this.mediaObj=!1,this.msgMediaObj=!1,this.bodyScrollDisabled=!1,this.scrollPosition=0,this.scrollingElem=document.scrollingElement||document.documentElement||document.body,this.setup(),this.events(),this.pauseMedia=this.mediaPause.bind(this),this.playMedia=this.mediaPlay.bind(this)}var e,s,a;return e=t,(s=[{key:"setup",value:function(){var t=this.settings,e=t.ppClose,s=t.ppMiniScrnBtn,i=t.ppCloseBtnText,a=jQuery("<button />",{class:"pp-modal-close"}).html(i+e+s),n='\n\t\t<div id="pp-modal-window" class="pp-modal-window">\n\t\t\t<div class="pp-modal-wrapper"></div>\n\t\t\t'.concat(a[0].outerHTML,"\n\t\t</div>");jQuery("body").append(n),this.modal=jQuery("#pp-modal-window")}},{key:"events",value:function(){var t=this;this.modal.on("click",".pp-modal-close",(function(){t.modal.hasClass("modal-view")&&!t.mediaObj.isVideo?(t.modal.removeClass("modal-view").addClass("inline-view"),t.scrollEnable()):(t.returnElem(),t.modal.removeClass().addClass("pp-modal-window"),t.scrollEnable(),t.mediaObj&&(t.mediaObj.pause(),t.mediaObj=!1),t.msgMediaObj&&(t.msgMediaObj.pause(),t.msgMediaObj.currentTime=0,t.msgMediaObj=!1))}))}},{key:"create",value:function(t,e,s,i){var a=jQuery("<div />",{id:"pp-modal-placeholder"}),n=this.modal.find(".pp-modal-wrapper"),d=t.closest(".pp-podcast").attr("id").replace("pp-podcast-","");a.insertBefore(t),n.empty().append(t.find(".episode-single__header").clone().addClass("episode-primary__title")),n.append(t),n.children().wrapAll('<div class="modal-'+d+'">'),i?(this.modal.addClass("modal-view pp-modal-open"),this.scrollDisable()):this.modal.addClass("inline-view pp-modal-open"),this.mediaObj&&this.mediaObj.pause(),this.mediaObj=e,this.msgMediaObj=s,this.mediaObj.media.addEventListener("ended",this.pauseMedia),this.mediaObj.media.addEventListener("pause",this.pauseMedia),this.mediaObj.media.addEventListener("play",this.playMedia),this.mediaObj.media.addEventListener("playing",this.playMedia),this.msgMediaObj&&(this.msgMediaObj.media.addEventListener("ended",this.pauseMedia),this.msgMediaObj.media.addEventListener("pause",this.pauseMedia),this.msgMediaObj.media.addEventListener("play",this.playMedia),this.msgMediaObj.media.addEventListener("playing",this.playMedia))}},{key:"mediaPause",value:function(){this.modal.addClass("media-paused"),jQuery("#pp-modal-placeholder").parent().find(".activeEpisode").removeClass("media-playing")}},{key:"mediaPlay",value:function(){this.modal.removeClass("media-paused"),jQuery("#pp-modal-placeholder").parent().find(".activeEpisode").addClass("media-playing")}},{key:"returnElem",value:function(){var t=this.modal.find(".pp-modal-wrapper"),e=t.find(".pp-podcast__single"),s=jQuery("#pp-modal-placeholder");e.length&&s.length&&(this.mediaObj.media.removeEventListener("ended",this.pauseMedia),this.mediaObj.media.removeEventListener("pause",this.pauseMedia),this.mediaObj.media.removeEventListener("play",this.pauseMedia),this.mediaObj.media.removeEventListener("playing",this.pauseMedia),this.msgMediaObj&&(this.msgMediaObj.media.removeEventListener("ended",this.pauseMedia),this.msgMediaObj.media.removeEventListener("pause",this.pauseMedia),this.msgMediaObj.media.removeEventListener("play",this.playMedia),this.msgMediaObj.media.removeEventListener("playing",this.playMedia)),s.parent().find(".activeEpisode").removeClass("activeEpisode media-playing"),e.removeClass("activePodcast"),this.modal.removeClass().addClass("pp-modal-window"),e.insertAfter(s),t.empty(),s.remove())}},{key:"scrollDisable",value:function(){var t=this;this.bodyScrollDisabled||(this.scrollPosition=this.scrollingElem.scrollTop,this.bodyScrollDisabled=!0,setTimeout((function(){t.scrollingElem.scrollTop=0,t.scrollingElem.classList.add("no-scroll")}),250))}},{key:"scrollEnable",value:function(){this.bodyScrollDisabled&&(this.scrollingElem.classList.remove("no-scroll"),this.scrollingElem.scrollTop=this.scrollPosition,this.bodyScrollDisabled=!1)}}])&&i(e.prototype,s),a&&i(e,a),t}();e.a=a},function(t,e,s){"use strict";var i=s(0);function a(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function t(e){var s,a,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=null,(a="resizeTimeout")in(s=this)?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n,this.id=e,this.podcast=i.a[e].podcast,this.infoToggle=this.podcast.find(".pod-info__toggle"),this.podInfo=this.podcast.find(".pod-info__header"),this.events()}var e,s,n;return e=t,(s=[{key:"events",value:function(){this.infoToggle.click(function(){this.podInfo.slideToggle("fast"),this.infoToggle.toggleClass("toggled-on").attr("aria-expanded",this.infoToggle.hasClass("toggled-on"))}.bind(this))}}])&&a(e.prototype,s),n&&a(e,n),t}();function d(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.podcast=i.a[e].podcast,this.mediaObj=i.a[e].mediaObj,this.msgMediaObj=i.a[e].msgMediaObj,this.controls=jQuery(this.mediaObj.controls),this.msgControls=!!this.msgMediaObj&&jQuery(this.msgMediaObj.controls),this.layers=this.controls.prev(".ppjs__layers"),this.media=this.mediaObj.media,this.msgMedia=!!this.msgMediaObj&&this.msgMediaObj.media,this.modalObj=i.a[e].modal,this.settings=i.a[e].settings,this.transcript=i.a[e].episode,this.list=i.a[e].list,this.props=i.a[e],this.instance=i.a[e].instance,this.player=i.a[e].player,this.data=window.podcastPlayerData||{},this.modControlMarkup(),this.modLayersMarkup(),this.plBtn=this.controls.find(".ppjs__playpause-button > button"),this.forBtn=this.controls.find(".ppjs__jump-forward-button > button"),this.bckBtn=this.controls.find(".ppjs__skip-backward-button > button"),this.ttBtn=this.controls.find(".ppjs__script-button > button"),this.ssBtn=this.controls.find(".ppjs__share-button > button"),this.pbrBtn=this.controls.find(".ppjs__play-rate-button > button"),this.msgControls&&(this.msgplBtn=this.msgControls.find(".ppjs__playpause-button > button"),this.msgforBtn=this.msgControls.find(".ppjs__jump-forward-button > button"),this.msgbckBtn=this.msgControls.find(".ppjs__skip-backward-button > button")),this.events()}var e,s,a;return e=t,(s=[{key:"events",value:function(){this.media.addEventListener("loadedmetadata",this.condbtnPauseMedia.bind(this)),this.media.addEventListener("play",this.btnPlayMedia.bind(this)),this.media.addEventListener("playing",this.btnPlayMedia.bind(this)),this.media.addEventListener("pause",this.btnPauseMedia.bind(this)),this.forBtn.click(this.forwardMedia.bind(this)),this.bckBtn.click(this.skipbackMedia.bind(this)),this.ttBtn.click(this.showtranscript.bind(this)),this.ssBtn.click(this.showsocialshare.bind(this)),this.pbrBtn.click(this.mediaPlayRate.bind(this)),this.podcast.find(".episode-single__close").click(this.hidetranscript.bind(this)),this.msgMedia&&(this.msgMedia.addEventListener("loadedmetadata",this.msgcondbtnPauseMedia.bind(this)),this.msgMedia.addEventListener("play",this.msgbtnPlayMedia.bind(this)),this.msgMedia.addEventListener("playing",this.msgbtnPlayMedia.bind(this)),this.msgMedia.addEventListener("pause",this.msgbtnPauseMedia.bind(this))),this.msgControls&&(this.msgplBtn.click(this.msgPlayPause.bind(this)),this.msgforBtn.click(this.msgForwardMedia.bind(this)),this.msgbckBtn.click(this.msgSkipbackMedia.bind(this)))}},{key:"forwardMedia",value:function(){var t,e;e=isNaN(this.media.duration)?15:this.media.duration,t=this.media.currentTime===1/0?0:this.media.currentTime,this.media.setCurrentTime(Math.min(t+15,e)),this.forBtn.blur()}},{key:"skipbackMedia",value:function(){var t;t=this.media.currentTime===1/0?0:this.media.currentTime,this.media.setCurrentTime(Math.max(t-15,0)),this.bckBtn.blur()}},{key:"msgPlayPause",value:function(){this.msgMediaObj.paused?this.msgMediaObj.play():this.msgMediaObj.pause()}},{key:"msgForwardMedia",value:function(){var t,e;e=isNaN(this.msgMedia.duration)?15:this.msgMedia.duration,t=this.msgMedia.currentTime===1/0?0:this.msgMedia.currentTime,this.msgMedia.setCurrentTime(Math.min(t+15,e)),this.msgforBtn.blur()}},{key:"msgSkipbackMedia",value:function(){var t;t=this.msgMedia.currentTime===1/0?0:this.msgMedia.currentTime,this.msgMedia.setCurrentTime(Math.max(t-15,0)),this.msgbckBtn.blur()}},{key:"mediaPlayRate",value:function(){var t=this.pbrBtn.find(".current"),e=t.next(".pp-rate"),s=this.pbrBtn.find(".pp-times");0===e.length&&(e=this.pbrBtn.find(".pp-rate").first());var i=parseFloat(e.text());t.removeClass("current"),e.addClass("current"),e.hasClass("withx")?s.show():s.hide(),this.media.playbackRate=i,this.pbrBtn.blur()}},{key:"btnPlayMedia",value:function(){this.plBtn.addClass("playing"),this.podcast.hasClass("postview")||this.modalObj.modal&&this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem()}},{key:"btnPauseMedia",value:function(){this.plBtn.removeClass("playing")}},{key:"showtranscript",value:function(){this.transcript.slideToggle("fast"),this.ttBtn.parent().toggleClass("toggled-on")}},{key:"hidetranscript",value:function(){this.transcript.slideUp("fast"),this.ttBtn.parent().removeClass("toggled-on")}},{key:"showsocialshare",value:function(){this.ssBtn.closest(".pp-podcast__player").siblings(".pod-content__social-share").slideToggle("fast"),this.ssBtn.parent().toggleClass("toggled-on")}},{key:"condbtnPauseMedia",value:function(){-1===this.media.rendererName.indexOf("flash")&&this.plBtn.removeClass("playing")}},{key:"msgbtnPlayMedia",value:function(){this.msgplBtn.addClass("playing")}},{key:"msgbtnPauseMedia",value:function(){this.msgplBtn.removeClass("playing")}},{key:"msgcondbtnPauseMedia",value:function(){-1===this.msgMedia.rendererName.indexOf("flash")&&this.msgplBtn.removeClass("playing")}},{key:"modControlMarkup",value:function(){var t,e,s,i="pp-podcast-".concat(this.instance),a="ppe-".concat(this.instance,"-1"),n=!!this.data[i]&&this.data[i].rdata;this.data[i]&&(s=(this.data[i][a]?this.data[i][a]:{}).featured),this.mediaObj.isVideo?(this.controls.prepend(this.settings.ppPlayPauseBtn),this.controls.find(".ppjs__fullscreen-button > button").html(this.settings.ppMaxiScrnBtn+this.settings.ppMiniScrnBtn),s&&this.layers.find(".ppjs__poster").empty().append('<img src="'+s+'"/>').show()):(this.controls.find(".ppjs__time").wrapAll('<div class="ppjs__audio-timer" />'),this.controls.find(".ppjs__time-rail").wrap('<div class="ppjs__audio-time-rail" />'),(t=jQuery("<div />",{class:"ppjs__audio-controls"})).html(this.settings.ppAudioControlBtns),this.controls.prepend(t),this.props.isWide&&(e=this.transcript.find(".episode-single__title").text(),this.controls.find(".ppjs__episode-title").text(e)),this.podcast.hasClass("postview")||(s?(this.player.find(".ppjs__img-btn").attr("src",s),this.player.addClass("hasCover")):this.player.removeClass("hasCover"))),this.msgMediaObj&&(this.msgControls.find(".ppjs__time").wrapAll('<div class="ppjs__audio-timer" />'),this.msgControls.find(".ppjs__time-rail").wrap('<div class="ppjs__audio-time-rail" />'),(t=jQuery("<div />",{class:"ppjs__audio-controls"})).html(this.settings.ppAudioControlBtns),this.msgControls.prepend(t),this.props.isWide&&n&&void 0!==n.msgtext&&this.msgControls.find(".ppjs__episode-title").text(n.msgtext))}},{key:"modLayersMarkup",value:function(){this.layers.find(".ppjs__overlay-play > .ppjs__overlay-button").html(this.settings.ppPlayCircle),this.layers.find(".ppjs__overlay > .ppjs__overlay-loading").html(this.settings.ppVidLoading)}}])&&d(e.prototype,s),a&&d(e,a),t}();function r(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){var s,a,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=void 0,(a="listItem")in(s=this)?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n,this.id=e,this.podcast=i.a[e].podcast,this.list=i.a[e].list,this.episode=i.a[e].episode,this.player=i.a[e].player,this.mediaObj=i.a[e].mediaObj,this.instance=i.a[e].instance,this.modalObj=i.a[e].modal,this.singleWrap=i.a[e].singleWrap,this.data=window.podcastPlayerData||{},this.msgMediaObj=i.a[e].msgMediaObj,this.msgControls=!!this.msgMediaObj&&jQuery(this.msgMediaObj.controls),this.msgMedia=!!this.msgMediaObj&&this.msgMediaObj.media,this.msgFreqCounter=0,this.controls=jQuery(this.mediaObj.controls),this.plBtn=this.controls.find(".ppjs__playpause-button > button"),this.playingAmsg=!1,this.playAmsg=!1,this.played=!1,this.settings=i.a[e].settings,this.isPremium=this.settings.isPremium,this.events()}var e,s,a;return e=t,(s=[{key:"events",value:function(){var t=this;t.podcast.hasClass("postview")?t.list.on("click",".pod-entry__title a, .pod-entry__featured",(function(e){var s=jQuery(this);if(!s.hasClass("fetch-post-title")){var i="pp-podcast-".concat(t.instance),a=t.data[i].load_info,n=!!a&&!!a.args&&a.args.hddesc;n=n||!1;var d=!s.hasClass("pod-entry__featured")&&!n||t.mediaObj.isVideo;e.preventDefault(),t.listItem=s.closest(".pod-entry"),t.playModal(d)}})):t.list.on("click",".episode-list__entry, .episode-list__search-entry",(function(e){e.preventDefault(),t.listItem=jQuery(this),t.play()})),this.msgMedia&&this.msgMedia.addEventListener("ended",this.msgMediaEnded.bind(this)),this.mediaObj.media.addEventListener("ended",this.mediaEnded.bind(this)),this.plBtn.click(this.playPauseBtn.bind(this))}},{key:"common",value:function(){var t,e,s,i,a,n="pp-podcast-".concat(this.instance),d=!!this.data[n]&&this.data[n].rdata,o=this.listItem.attr("id"),r=this.singleWrap.find(".pod-content__social-share");if(0<(t=this.list.find(".activeEpisode")).length&&t.removeClass("activeEpisode media-playing"),this.msgMediaObj&&(this.msgMediaObj.paused||this.msgMediaObj.pause(),this.msgMediaObj.currentTime=0),this.played=!0,this.playingAmsg=!1,this.player.removeClass("msg-playing"),e=this.listItem.hasClass("episode-list__search-entry")?this.data.search[o]:this.data[n][o],s=encodeURIComponent(e.link),i=encodeURIComponent(e.title),a=jQuery("<div>").html(e.src).html().replace("&amp;","&"),this.isPremium&&!1!==d&&"feedurl"===d.from&&void 0!==e.key){var l={ppplayer:d.fprint,ppepisode:e.key},h=jQuery.param(l),p=d.permalink;s=p?p+(p.indexOf("?")<0?"?":"&")+h:s,s=encodeURIComponent(s)}var c="https://www.facebook.com/sharer.php?u="+s,m="https://twitter.com/intent/tweet?url="+s+"&text="+i,u="https://www.linkedin.com/shareArticle?mini=true&url="+s,y="mailto:?subject="+i+"&body=Link:"+s;return this.listItem.addClass("activeEpisode media-playing"),this.episode.find(".episode-single__title").html(e.title),this.episode.find(".episode-single__author > .single-author").html(e.author),this.controls.find(".ppjs__episode-title").html(e.title),this.episode.find(".episode-single__description").html(e.description),r.find(".ppsocial__facebook").attr("href",c),r.find(".ppsocial__twitter").attr("href",m),r.find(".ppsocial__linkedin").attr("href",u),r.find(".ppsocial__email").attr("href",y),r.find(".ppshare__download").attr("href",a),this.mediaObj.setSrc(a),this.mediaObj.load(),this.playMessage(),!0}},{key:"btnImage",value:function(){var t="pp-podcast-".concat(this.instance),e=this.listItem.attr("id"),s=(this.listItem.hasClass("episode-list__search-entry")?this.data.search[e]:this.data[t][e]).featured;s?(this.player.find(".ppjs__img-btn").attr("src",s),this.player.addClass("hasCover")):this.player.removeClass("hasCover")}},{key:"playPauseBtn",value:function(){if(!1===this.played)return this.played=!0,this.playMessage(),void(this.playingAmsg||this.mediaObj.play());this.mediaObj.paused?(this.mediaObj.play(),this.listItem&&this.listItem.addClass("activeEpisode media-playing")):(this.mediaObj.pause(),this.listItem&&this.listItem.removeClass("activeEpisode media-playing"))}},{key:"play",value:function(){if(this.listItem.hasClass("activeEpisode"))return this.listItem.removeClass("activeEpisode"),this.mediaObj.pause(),this.player.removeClass("msg-playing"),this.playingAmsg=!1,void(this.msgMediaObj&&(this.msgMediaObj.pause(),this.msgMediaObj.currentTime=0));this.modalObj.modal&&this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem(),this.common(),this.btnImage(),this.playingAmsg||this.mediaObj.play(),jQuery("html, body").animate({scrollTop:this.player.offset().top-200},400)}},{key:"playModal",value:function(t){this.modalObj&&(this.listItem.hasClass("activeEpisode")?t?(this.modalObj.modal.removeClass("inline-view").addClass("modal-view"),this.modalObj.scrollDisable(),this.playingAmsg||(this.modalObj.modal.find(".episode-primary__title").find(".episode-single__title").html(this.episode.find(".episode-single__title").html()),this.mediaObj.play(),this.modalObj.modal.removeClass("media-paused"),this.listItem.addClass("media-playing"))):this.msgMediaObj&&this.playingAmsg?this.msgMediaObj.paused?(this.msgMediaObj.play(),this.modalObj.modal.removeClass("media-paused"),this.listItem.addClass("media-playing")):(this.msgMediaObj.pause(),this.modalObj.modal.addClass("media-paused"),this.listItem.removeClass("media-playing")):this.mediaObj.paused?(this.mediaObj.play(),this.modalObj.modal.removeClass("media-paused"),this.listItem.addClass("media-playing")):(this.mediaObj.pause(),this.modalObj.modal.addClass("media-paused"),this.listItem.removeClass("media-playing")):(this.common(),this.singleWrap.hasClass("activePodcast")?t&&(this.modalObj.modal.find(".episode-primary__title").find(".episode-single__title").html(this.episode.find(".episode-single__title").html()),this.modalObj.modal.removeClass("inline-view").addClass("modal-view"),this.modalObj.scrollDisable()):(this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem(),this.modalObj.create(this.singleWrap,this.mediaObj,this.msgMediaObj,t),this.singleWrap.addClass("activePodcast")),this.playingAmsg||this.mediaObj.play(),this.modalObj.modal.removeClass("media-paused")))}},{key:"playMessage",value:function(){var t="pp-podcast-".concat(this.instance),e=!!this.data[t]&&this.data[t].rdata;if(e&&void 0!==e.audiomsg)if(e.playfreq<=this.msgFreqCounter||!1===this.played){if(this.msgFreqCounter=0,"start"===e.msgstart)this.playingAmsg=!0,this.player.addClass("msg-playing"),this.msgMediaObj&&this.msgMediaObj.play();else if("end"===e.msgstart)this.playAmsg=!0;else if("custom"===e.msgstart){var s=60*e.msgtime[0]*60+60*e.msgtime[1]+e.msgtime[2];this.deferredPlay(s)}}else this.msgFreqCounter++,this.playingAmsg=!1}},{key:"deferredPlay",value:function(t){var e=this;if(t){var s=this.mediaObj.currentTime;s&&s>=t?(this.playingAmsg=!0,this.mediaObj.pause(),this.msgMediaObj&&this.msgMediaObj.play(),this.player.addClass("msg-playing")):setTimeout((function(){e.deferredPlay(t)}),1e3)}}},{key:"mediaEnded",value:function(){!0===this.playAmsg&&(this.playingAmsg=!1,this.player.addClass("msg-playing"),this.msgMediaObj&&this.msgMediaObj.play())}},{key:"msgMediaEnded",value:function(){!0===this.playingAmsg&&(this.player.removeClass("msg-playing"),this.playingAmsg=!1,this.mediaObj.play())}}])&&r(e.prototype,s),a&&r(e,a),t}();function h(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.podcast=i.a[e].podcast,this.settings=i.a[e].settings,this.instance=i.a[e].instance,this.isStyleSupport=i.a.isStyleSupport,this.data=window.podcastPlayerData||{},this.loadbtn=this.podcast.find(".episode-list__load-more"),this.events()}var e,s,a;return e=t,(s=[{key:"events",value:function(){this.loadbtn.click(this.loadEpisodes.bind(this))}},{key:"loadEpisodes",value:function(){var t="pp-podcast-".concat(this.instance),e=this.data[t].rdata.from,s=this.data[t].load_info,i=this.data[t].rdata.elen,a=Math.min(s.displayed+s.step,s.loaded),n=s.displayed+1,d=jQuery("<div />"),o="";for("posts"===e&&(o="fetch-post-title");n<=a;n++){var r="ppe-".concat(this.instance,"-").concat(n),l=this.data[t][r];if(void 0!==l){var h=l.title,p=l.description,c=l.author,m=l.date,u=l.link,y=l.featured;y||(y=(y=s.args.imgurl)||"");var f=jQuery("<a />",{href:u,class:o}).html(h),v=jQuery("<div />",{class:"pod-entry__title"}).html(f),g=jQuery("<div />",{class:"pod-entry__date"}).text(m),b=jQuery("<div />",{class:"pod-entry__author"}).html(c),j=void 0;if(this.podcast.hasClass("postview")){var _=s.args.display,O=p?jQuery(p).text():"",M=jQuery("<div />",{class:"pod-entry__play"}).html(this.settings.ppPlayCircle+this.settings.ppPauseBtn),w=void 0,C="";if(w=_&&this.isStyleSupport(_,"playbtn")?"":(w=y?jQuery("<img />",{class:"pod-entry__image",src:y}):"")?'<div class="pod-entry__thumb">'.concat(w[0].outerHTML,"</div>"):"",_&&this.isStyleSupport(_,"excerpt")){var k=O?O.split(" ").splice(0,i).join(" "):"",E=k?jQuery("<div />",{class:"pod-entry__excerpt"}).text(k+"..."):"";C=E?E[0].outerHTML:""}j='\n\t\t\t\t\t<div id="'.concat(r,'" class="episode-list__entry pod-entry" data-search-term="').concat(h.toLowerCase(),'">\n\t\t\t\t\t\t<div class="pod-entry__featured">\n\t\t\t\t\t\t\t').concat(M[0].outerHTML,"\n\t\t\t\t\t\t\t").concat(w,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pod-entry__content">\n\t\t\t\t\t\t\t').concat(v[0].outerHTML).concat(C).concat(g[0].outerHTML).concat(b[0].outerHTML,"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t")}else j='\n\t\t\t\t\t<div id="'.concat(r,'" class="episode-list__entry pod-entry" data-search-term="').concat(h.toLowerCase(),'">\n\t\t\t\t\t\t<div class="pod-entry__content">\n\t\t\t\t\t\t\t').concat(v[0].outerHTML).concat(g[0].outerHTML).concat(b[0].outerHTML,"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t");d.append(jQuery(j))}}this.loadbtn.parent().before(d.html()),s.displayed=a,this.fetchEpisodes()}},{key:"fetchEpisodes",value:function(){var t="pp-podcast-".concat(this.instance),e=this.data[t].rdata;"feedurl"===e.from?this.fetchFromFeed():"posts"===e.from&&this.fetchFromPosts()}},{key:"fetchFromFeed",value:function(){var t=this,e="pp-podcast-".concat(this.instance),s=this.data[e].load_info,i=this.data.ajax_info,a={action:"pp_fetch_episodes",security:i.security,instance:this.instance,loaded:s.loaded,maxItems:s.maxItems,feedUrl:s.src,step:s.step,sortby:s.sortby,filterby:s.filterby,args:s.args};s.loaded>=s.maxItems?s.displayed>=s.loaded&&this.loadbtn.slideUp("slow"):jQuery.ajax({url:i.ajaxurl,data:a,type:"POST",timeout:4e3,success:function(i){var a=jQuery.parseJSON(i);s.loaded=a.loaded,jQuery.extend(!0,t.data[e],a.episodes)},error:function(){t.loadbtn.hide()}})}},{key:"fetchFromPosts",value:function(){var t=this,e="pp-podcast-".concat(this.instance),s=this.data[e].load_info,i=this.data.ajax_info,a={action:"pp_fetch_posts",security:i.security,instance:this.instance,offset:s.offset,loaded:s.loaded,args:s.args};0!==s.offset?jQuery.ajax({url:i.ajaxurl,data:a,type:"POST",timeout:4e3,success:function(i){var a=jQuery.parseJSON(i);jQuery.isEmptyObject(a)?(s.offset=0,t.loadbtn.slideUp("slow")):(s.loaded=a.loaded,jQuery.extend(!0,t.data[e],a.episodes),s.offset+=s.step)},error:function(){t.loadbtn.hide()}}):this.loadbtn.slideUp("slow")}}])&&h(e.prototype,s),a&&h(e,a),t}();function c(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"isSrchOpen",!1),m(this,"localTimeOut",null),m(this,"serverTimeOut",null),m(this,"hasLoading",!1),m(this,"prevSearchTerm",""),this.podcast=i.a[e].podcast,this.instance=i.a[e].instance,this.isStyleSupport=i.a.isStyleSupport,this.data=window.podcastPlayerData||{},this.list=i.a[e].list,this.episodes=i.a[e].episodes,this.settings=i.a[e].settings,this.loadbtn=this.podcast.find(".episode-list__load-more"),this.searchBox=this.list.find(".episode-list__search > input"),this.searchResults=this.list.find(".episode-search"),this.searchClose=this.list.find(".episode-list__clear-search"),this.events()}var e,s,a;return e=t,(s=[{key:"events",value:function(){this.searchBox.on("keyup",this.initSearch.bind(this)),this.searchClose.click(this.clearSearch.bind(this))}},{key:"initSearch",value:function(){var t="";!1===this.isSrchOpen&&(this.podcast.addClass("search-opened"),this.searchResults.addClass("toggled-on"),this.loadbtn.hide(),this.searchClose.show(),this.isSrchOpen=!0),clearTimeout(this.localTimeOut),this.localTimeOut=setTimeout(function(){(t=jQuery.trim(this.searchBox.val().toLowerCase()))&&this.filterEpisodes(t)}.bind(this),100),clearTimeout(this.serverTimeOut),this.serverTimeOut=setTimeout(function(){if(t){if(this.prevSearchTerm===t)return;this.liveSearch(t)}else this.clearSearch()}.bind(this),500)}},{key:"filterEpisodes",value:function(t){this.episodes.find(".episode-list__entry").each((function(){jQuery(this).filter("[data-search-term *= "+t+"]").length>0||t.length<1?jQuery(this).show():jQuery(this).hide()}))}},{key:"liveSearch",value:function(t){if(!1===this.hasLoading){var e=jQuery("<div />",{class:"episode-search__loading"}).html(this.settings.ppVidLoading);this.searchResults.html(e),this.hasLoading=!0}this.fetchResults(t)}},{key:"fetchResults",value:function(t){var e="pp-podcast-".concat(this.instance),s=this.data[e].rdata;"feedurl"===s.from?this.fetchFromFeed(t):"posts"===s.from&&this.fetchFromPosts(t)}},{key:"fetchFromFeed",value:function(t){var e=this,s="pp-podcast-".concat(this.instance),i=this.data[s].load_info,a=this.data.ajax_info,n={action:"pp_search_episodes",security:a.security,instance:"s",loaded:i.displayed,maxItems:i.maxItems,feedUrl:i.src,sortby:i.sortby,filterby:i.filterby,search:t,args:i.args};i.displayed>=i.maxItems?this.flushSearchResults():jQuery.ajax({url:a.ajaxurl,data:n,type:"POST",timeout:4e3,success:function(t){var s=jQuery.parseJSON(t);jQuery.isEmptyObject(s)?e.flushSearchResults():(e.data.search=s.episodes,e.showSearchResults(s.episodes))},error:function(){e.flushSearchResults()}})}},{key:"fetchFromPosts",value:function(t){var e=this,s="pp-podcast-".concat(this.instance),i=this.data[s].load_info,a=this.data.ajax_info,n={action:"pp_search_posts",security:a.security,offset:i.displayed,args:i.args,instance:"s",search:t};jQuery.ajax({url:a.ajaxurl,data:n,type:"POST",timeout:4e3,success:function(t){var s=jQuery.parseJSON(t);jQuery.isEmptyObject(s)?e.flushSearchResults():(e.data.search=s.episodes,e.showSearchResults(s.episodes))},error:function(){e.flushSearchResults()}})}},{key:"clearSearch",value:function(){var t="pp-podcast-".concat(this.instance),e=this.data[t].load_info;this.searchBox.val(""),this.prevSearchTerm="",this.isSrchOpen=!1,this.podcast.removeClass("search-opened"),this.searchResults.removeClass("toggled-on"),this.searchClose.hide(),this.episodes.find(".episode-list__entry").show(),this.flushSearchResults(),e.displayed<e.loaded&&this.loadbtn.show()}},{key:"flushSearchResults",value:function(){this.searchResults.empty(),this.hasLoading=!1}},{key:"showSearchResults",value:function(t){for(var e="pp-podcast-".concat(this.instance),s=this.data[e].load_info,i=Object.getOwnPropertyNames(t),a=i.length-1,n=this.data[e].rdata.elen,d=0,o=jQuery("<div />");d<=a;d++){var r=i[d],l=t[r],h=l.title,p=l.description,c=l.author,m=l.date,u=l.link,y=l.featured;y||(y=(y=s.args.imgurl)||"");var f=jQuery("<a />",{href:u}).html(h),v=jQuery("<div />",{class:"pod-entry__title"}).html(f),g=jQuery("<div />",{class:"pod-entry__date"}).text(m),b=jQuery("<div />",{class:"pod-entry__author"}).html(c),j=void 0;if(this.podcast.hasClass("postview")){var _=s.args.display,O=p?jQuery(p).text():"",M=jQuery("<div />",{class:"pod-entry__play"}).html(this.settings.ppPlayCircle+this.settings.ppPauseBtn),w=void 0,C="";if(w=_&&this.isStyleSupport(_,"playbtn")?"":(w=y?jQuery("<img />",{class:"pod-entry__image",src:y}):"")?'<div class="pod-entry__thumb">'.concat(w[0].outerHTML,"</div>"):"",_&&this.isStyleSupport(_,"excerpt")){var k=O?O.split(" ").splice(0,n).join(" "):"",E=k?jQuery("<div />",{class:"pod-entry__excerpt"}).text(k+"..."):"";C=E?E[0].outerHTML:""}j='\n\t\t\t\t<div id="'.concat(r,'" class="episode-list__search-entry pod-entry" data-search-term="').concat(h.toLowerCase(),'">\n\t\t\t\t\t<div class="pod-entry__featured">\n\t\t\t\t\t\t').concat(M[0].outerHTML,"\n\t\t\t\t\t\t").concat(w,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pod-entry__content">\n\t\t\t\t\t\t').concat(v[0].outerHTML).concat(C).concat(g[0].outerHTML).concat(b[0].outerHTML,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t")}else j='\n\t\t\t\t<div id="'.concat(r,'" class="episode-list__search-entry pod-entry" data-search-term="').concat(h.toLowerCase(),'">\n\t\t\t\t\t<div class="pod-entry__content">\n\t\t\t\t\t\t').concat(v[0].outerHTML).concat(g[0].outerHTML).concat(b[0].outerHTML,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t");o.append(jQuery(j)),this.searchResults.html(o.html()),this.hasLoading=!1}}}])&&c(e.prototype,s),a&&c(e,a),t}();function y(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"width",void 0),f(this,"resizeTimeout",null),this.id=e,this.playerStyleUpdate(),this.managerHeader(),this.mediaElements(),this.entryEpisodes(),this.loadMore(),this.searchEpisodes(),this.events()}var e,s,a;return e=t,(s=[{key:"events",value:function(){var t=this;clearTimeout(this.resizeTimeout),jQuery(window).on("resize",(function(){t.resizeTimeout=setTimeout(t.playerStyleUpdate.bind(t),100)}))}},{key:"playerStyleUpdate",value:function(){var t=i.a[this.id].podcast,e="";this.width=t.width(),window.matchMedia("(max-width: 640px)").matches?i.a.isLrgScrn=!1:i.a.isLrgScrn=!0,t.removeClass("wider-player wide-player narrow-player"),i.a[this.id].isWide=!1,this.width>720?(e="wider-player wide-player",i.a[this.id].isWide=!0):this.width>600?(e="wide-player",i.a[this.id].isWide=!0):this.width>300&&(e="narrow-player"),t.addClass(e)}},{key:"managerHeader",value:function(){new n(this.id)}},{key:"mediaElements",value:function(){new o(this.id)}},{key:"entryEpisodes",value:function(){new l(this.id)}},{key:"loadMore",value:function(){new p(this.id)}},{key:"searchEpisodes",value:function(){new u(this.id)}}])&&y(e.prototype,s),a&&y(e,a),t}();e.a=v},,,,function(t,e,s){"use strict";s.r(e);var i=s(0),a=s(2),n=s(1);!function(t){var e=window.ppmejsSettings||{},s=e.isPremium?new n.a:"";function d(n){if("playerAdded"===n.animationName&&t(n.target).hasClass("pp-podcast")&&!t(n.target).hasClass("pp-podcast-added")){var d=t(n.target),o=d.attr("id"),r=new MediaElementPlayer(o+"-player",e),l=d.find(".pod-content__list"),h=d.find(".pod-content__episode"),p=l.find(".episode-list__wrapper"),c=h.find(".episode-single__wrapper"),m=d.find(".pp-podcast__single"),u=d.find(".pp-podcast__player");i.a[o]={podcast:d,mediaObj:r,settings:e,list:l,episode:h,episodes:p,single:c,player:u,modal:s,singleWrap:m,instance:o.replace("pp-podcast-","")},d.addClass("pp-podcast-added"),new a.a(o)}}document.addEventListener("animationstart",d,!1),document.addEventListener("webkitAnimationStart",d,!1)}(jQuery)}]);